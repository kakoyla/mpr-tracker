(function(){"use strict";var e={6804:function(e,a,t){var l=t(5130),n=t(6768);const r={id:"app"};function s(e,a,t,l,s,u){const o=(0,n.g2)("router-link"),i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("header",null,[a[3]||(a[3]=(0,n.Lk)("h1",null,"MPR Tracker",-1)),(0,n.Lk)("nav",null,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)("Setup")]))),_:1}),(0,n.bF)(o,{to:"/tracking"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("Player Tracking")]))),_:1}),(0,n.bF)(o,{to:"/team-mpr"},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("Team MPR")]))),_:1})])]),(0,n.Lk)("main",null,[(0,n.bF)(i,{onSaveData:l.saveData},null,8,["onSaveData"])]),a[4]||(a[4]=(0,n.Lk)("footer",null,[(0,n.Lk)("p",null,"Â© 2024 MPR Tracker App")],-1))])}var u=t(782),o=t(1387),i={name:"App",setup(){const e=(0,u.Pj)(),a=(0,o.rd)();(0,n.sV)((()=>{e.dispatch("initializeStore")}));const t=()=>{e.dispatch("saveToLocalStorage")};return(0,n.Gt)("saveData",t),a.afterEach((()=>{t()})),{saveData:t}}},c=t(1241);const y=(0,c.A)(i,[["render",s]]);var m=y,p=t(4232);const d={class:"team-setup"},v={type:"submit"},P={class:"team-roster"},k=["onClick"],b=["onClick"],f={class:"min-plays"},C=["disabled"],h={class:"export-import"},g={class:"clear-data"};function L(e,a,t,r,s,u){return(0,n.uX)(),(0,n.CE)("div",d,[a[15]||(a[15]=(0,n.Lk)("h2",null,"Team Setup",-1)),(0,n.Lk)("form",{onSubmit:a[4]||(a[4]=(0,l.D$)((e=>r.editMode?r.updatePlayer():r.addPlayer()),["prevent"])),class:"player-form"},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.newPlayer.firstName=e),placeholder:"First Name",required:""},null,512),[[l.Jo,r.newPlayer.firstName]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.newPlayer.lastName=e),placeholder:"Last Name",required:""},null,512),[[l.Jo,r.newPlayer.lastName]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>r.newPlayer.number=e),type:"number",placeholder:"Player Number",required:""},null,512),[[l.Jo,r.newPlayer.number,void 0,{number:!0}]]),(0,n.Lk)("button",v,(0,p.v_)(r.editMode?"Update Player":"Add Player"),1),r.editMode?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:a[3]||(a[3]=(...e)=>r.cancelEdit&&r.cancelEdit(...e)),class:"cancel-button"},"Cancel")):(0,n.Q3)("",!0)],32),(0,n.Lk)("div",P,[a[12]||(a[12]=(0,n.Lk)("h3",null,"Team Roster",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sortedPlayers,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.number},[(0,n.Lk)("span",null,(0,p.v_)(e.number)+" - "+(0,p.v_)(e.firstName)+" "+(0,p.v_)(e.lastName),1),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:a=>r.editPlayer(e),class:"edit-button"},"Edit",8,k),(0,n.Lk)("button",{onClick:a=>r.removePlayer(e.number),class:"remove-button"},"Remove",8,b)])])))),128))])]),(0,n.Lk)("div",f,[a[13]||(a[13]=(0,n.Lk)("label",{for:"minPlays"},"Minimum Plays Required:",-1)),(0,n.bo)((0,n.Lk)("input",{id:"minPlays","onUpdate:modelValue":a[5]||(a[5]=e=>r.minPlays=e),type:"number",required:""},null,512),[[l.Jo,r.minPlays,void 0,{number:!0}]])]),(0,n.Lk)("button",{onClick:a[6]||(a[6]=(...e)=>r.saveTeam&&r.saveTeam(...e)),disabled:!r.canSaveTeam,class:"save-team-button"},"Save",8,C),(0,n.Lk)("div",h,[(0,n.Lk)("button",{onClick:a[7]||(a[7]=(...e)=>r.exportTeam&&r.exportTeam(...e)),class:"export-button"},"Export Team"),(0,n.Lk)("input",{type:"file",onChange:a[8]||(a[8]=(...e)=>r.importTeam&&r.importTeam(...e)),ref:"fileInput",style:{display:"none"}},null,544),(0,n.Lk)("button",{onClick:a[9]||(a[9]=a=>e.$refs.fileInput.click()),class:"import-button"},"Import Team")]),(0,n.Lk)("div",g,[a[14]||(a[14]=(0,n.Lk)("h3",null,"Clear Data Options",-1)),(0,n.Lk)("button",{onClick:a[10]||(a[10]=(...e)=>r.clearAllPlays&&r.clearAllPlays(...e)),class:"clear-plays-button"},"Clear All Plays"),(0,n.Lk)("button",{onClick:a[11]||(a[11]=(...e)=>r.clearEntireTeam&&r.clearEntireTeam(...e)),class:"clear-team-button"},"Remove Entire Team")])])}t(4114),t(4603),t(7566),t(8721);var T=t(144),E={name:"TeamSetup",setup(){const e=(0,u.Pj)(),a=(0,o.rd)(),t=(0,n.WQ)("saveData"),l=(0,T.KR)({firstName:"",lastName:"",number:""}),r=(0,T.KR)(12),s=(0,T.KR)(!1),i=(0,T.KR)(-1),c=(0,n.EW)((()=>e.state.players)),y=(0,n.EW)((()=>[...c.value].sort(((e,a)=>e.number-a.number)))),m=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),p=()=>{const a={...l.value,firstName:m(l.value.firstName),lastName:m(l.value.lastName)};e.commit("addPlayer",a),l.value={firstName:"",lastName:"",number:""},t()},d=e=>{l.value={...e},s.value=!0,i.value=c.value.findIndex((a=>a.number===e.number))},v=()=>{const a={...l.value,firstName:m(l.value.firstName),lastName:m(l.value.lastName)};e.commit("updatePlayer",{index:i.value,player:a}),P(),t()},P=()=>{l.value={firstName:"",lastName:"",number:""},s.value=!1,i.value=-1},k=a=>{e.commit("removePlayer",a),t()},b=(0,n.EW)((()=>c.value.length>0&&r.value>0)),f=()=>{e.commit("setMinPlays",r.value),t(),a.push("/tracking")},C=()=>{const a={players:c.value,minPlays:r.value,playerPlayCounts:e.state.playerPlayCounts},t=JSON.stringify(a,null,2),l=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download="team_data.json",s.click(),URL.revokeObjectURL(n)},h=a=>{const l=a.target.files[0];if(l){const a=new FileReader;a.onload=a=>{try{const l=JSON.parse(a.target.result);e.commit("setPlayers",l.players),e.commit("setMinPlays",l.minPlays),l.playerPlayCounts&&Object.entries(l.playerPlayCounts).forEach((([a,t])=>{e.commit("updatePlayerPlayCount",{playerNumber:parseInt(a),playCount:t})})),r.value=l.minPlays,t(),alert("Team data imported successfully!")}catch(l){alert("Error importing team data. Please make sure the file is correct."),console.error("Import error:",l)}},a.readAsText(l)}},g=()=>{confirm("Are you sure you want to clear all plays? This action cannot be undone.")&&(e.commit("clearAllPlays"),t(),alert("All plays have been cleared."))},L=()=>{confirm("Are you sure you want to remove the entire team and all data? This action cannot be undone.")&&(e.commit("clearAllData"),r.value=12,t(),alert("The entire team and all data have been removed."))};return{newPlayer:l,sortedPlayers:y,minPlays:r,editMode:s,addPlayer:p,editPlayer:d,updatePlayer:v,cancelEdit:P,removePlayer:k,canSaveTeam:b,saveTeam:f,exportTeam:C,importTeam:h,clearAllPlays:g,clearEntireTeam:L}}};const w=(0,c.A)(E,[["render",L],["__scopeId","data-v-b7060dc2"]]);var N=w;const R={class:"player-tracking"},S={class:"tracking-mode"},O={class:"switch"},M={class:"player-grid-container",ref:"gridContainer"},A=["onClick"],_={class:"action-buttons"},x={key:0,class:"saved-message"};function I(e,a,t,r,s,u){return(0,n.uX)(),(0,n.CE)("div",R,[a[4]||(a[4]=(0,n.Lk)("h2",null,"Player Tracking",-1)),(0,n.Lk)("div",S,[(0,n.Lk)("label",O,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=e=>r.isOnField=e)},null,512),[[l.lH,r.isOnField]]),a[3]||(a[3]=(0,n.Lk)("span",{class:"slider round"},null,-1))]),(0,n.Lk)("span",null,(0,p.v_)(r.isOnField?"On Field":"On Bench"),1)]),(0,n.Lk)("div",M,[(0,n.Lk)("div",{class:"player-grid",style:(0,p.Tr)(r.gridStyle)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sortedActivePlayers,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e.number,onClick:a=>r.togglePlayer(e.number),class:(0,p.C4)({active:r.isPlayerActive(e.number)})},(0,p.v_)(e.number),11,A)))),128))],4)],512),(0,n.Lk)("div",_,[(0,n.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>r.savePlay&&r.savePlay(...e)),class:"save-button"},"Save Play"),(0,n.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>r.viewTeamMPR&&r.viewTeamMPR(...e)),class:"view-mpr-button"},"View Team MPR")]),r.showSaved?((0,n.uX)(),(0,n.CE)("div",x,"Saved")):(0,n.Q3)("",!0)])}var X={name:"PlayerTrackingView",setup(){const e=(0,u.Pj)(),a=(0,o.rd)(),t=(0,n.WQ)("saveData"),l=(0,T.KR)(!0),r=(0,T.KR)(null),s=(0,T.KR)({}),i=(0,T.KR)(!1),c=(0,n.EW)({get:()=>e.state.selectedPlayers,set:a=>e.commit("setSelectedPlayers",a)}),y=(0,n.EW)((()=>e.state.players)),m=(0,n.EW)((()=>e.state.minPlays)),p=(0,n.EW)((()=>y.value.filter((a=>{const t=e.getters.playerPlayCount(a.number);return t<m.value})).sort(((e,a)=>e.number-a.number)))),d=e=>c.value.includes(e),v=e=>{const a=[...c.value],t=a.indexOf(e);t>-1?a.splice(t,1):a.push(e),c.value=a},P=()=>{const a=l.value?c.value.length:p.value.length-c.value.length;if(a>11){const e=confirm("There are more than 11 players on the field. Do you want to proceed?");if(!e)return}const n=l.value?c.value:p.value.filter((e=>!c.value.includes(e.number))).map((e=>e.number));e.commit("savePlay",n),t(),b(),c.value=c.value.filter((a=>{const t=e.getters.playerPlayCount(a);return t<m.value})),i.value=!0,setTimeout((()=>{i.value=!1}),1e3)},k=()=>{a.push("/team-mpr")},b=()=>{if(!r.value)return;const e=r.value.clientWidth,a=r.value.clientHeight,t=p.value.length;let l=Math.ceil(Math.sqrt(t)),n=Math.ceil(t/l);a>e&&([l,n]=[n,l]),s.value={display:"grid",gridTemplateColumns:`repeat(${l}, 1fr)`,gridTemplateRows:`repeat(${n}, 1fr)`,gap:"4px",height:"100%"}};return(0,n.sV)((()=>{b(),window.addEventListener("resize",b)})),(0,n.hi)((()=>{window.removeEventListener("resize",b)})),(0,n.wB)(p,b),(0,n.wB)(l,(()=>{c.value=[]})),{isOnField:l,sortedActivePlayers:p,isPlayerActive:d,togglePlayer:v,savePlay:P,viewTeamMPR:k,gridContainer:r,gridStyle:s,showSaved:i}}};const j=(0,c.A)(X,[["render",I],["__scopeId","data-v-7dd9ada8"]]);var W=j;const D={class:"team-mpr"},F={class:"table-responsive"},K={key:1},U=["onClick"],V=["onClick"];function J(e,a,t,r,s,u){return(0,n.uX)(),(0,n.CE)("div",D,[a[4]||(a[4]=(0,n.Lk)("h2",null,"Team MPR",-1)),(0,n.Lk)("div",F,[(0,n.Lk)("table",null,[a[3]||(a[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"No."),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Plays"),(0,n.Lk)("th",null,"Left"),(0,n.Lk)("th",null,"Status"),(0,n.Lk)("th",null,"Actions")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sortedPlayersMPR,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.number,class:(0,p.C4)({completed:"Completed"===e.status})},[(0,n.Lk)("td",null,(0,p.v_)(e.number),1),(0,n.Lk)("td",null,(0,p.v_)(e.firstName)+" "+(0,p.v_)(e.lastName),1),(0,n.Lk)("td",null,[r.editingPlayer===e.number?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=e=>r.editPlayCount=e),type:"number",min:"0"},null,512)),[[l.Jo,r.editPlayCount,void 0,{number:!0}]]):((0,n.uX)(),(0,n.CE)("span",K,(0,p.v_)(e.plays),1))]),(0,n.Lk)("td",null,(0,p.v_)(e.playsRemaining),1),(0,n.Lk)("td",{class:(0,p.C4)({"status-completed":"Completed"===e.status})},(0,p.v_)(e.status),3),(0,n.Lk)("td",null,[r.editingPlayer===e.number?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:a=>r.savePlayCount(e.number),class:"save-button"},"Save",8,U)):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:a=>r.startEditing(e),class:"edit-button"},"Edit",8,V)),r.editingPlayer===e.number?((0,n.uX)(),(0,n.CE)("button",{key:2,onClick:a[1]||(a[1]=(...e)=>r.cancelEditing&&r.cancelEditing(...e)),class:"cancel-button"},"Cancel")):(0,n.Q3)("",!0)])],2)))),128))])])]),(0,n.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>r.backToTracking&&r.backToTracking(...e)),class:"back-button"},"Back to Tracking")])}var q={name:"TeamMPRView",setup(){const e=(0,u.Pj)(),a=(0,o.rd)(),t=(0,n.WQ)("saveData"),l=(0,T.KR)(null),r=(0,T.KR)(0),s=(0,n.EW)((()=>{const a=e.state.minPlays;return e.state.players.map((t=>{const l=e.getters.playerPlayCount(t.number),n=Math.max(0,a-l);return{...t,plays:l,playsRemaining:n,status:l>=a?"Completed":"In Progress"}}))})),i=(0,n.EW)((()=>{const e=s.value.filter((e=>"In Progress"===e.status)),a=s.value.filter((e=>"Completed"===e.status)),t=(e,a)=>e.plays!==a.plays?e.plays-a.plays:e.number-a.number;return e.sort(t),a.sort(((e,a)=>e.plays!==a.plays?a.plays-e.plays:e.number-a.number)),[...e,...a]})),c=e=>{l.value=e.number,r.value=e.plays},y=a=>{e.commit("updatePlayerPlayCount",{playerNumber:a,playCount:r.value}),l.value=null,t()},m=()=>{l.value=null},p=()=>{a.push("/tracking")};return{sortedPlayersMPR:i,editingPlayer:l,editPlayCount:r,startEditing:c,savePlayCount:y,cancelEditing:m,backToTracking:p}}};const B=(0,c.A)(q,[["render",J],["__scopeId","data-v-0c8ab034"]]);var H=B;const Q=[{path:"/",name:"TeamSetup",component:N},{path:"/tracking",name:"PlayerTracking",component:W},{path:"/team-mpr",name:"TeamMPR",component:H}],$=(0,o.aE)({history:(0,o.Bt)(),routes:Q});var z=$,G=(0,u.y$)({state:{players:[],minPlays:0,currentPlay:[],playHistory:[],playerPlayCounts:{},selectedPlayers:[]},mutations:{addPlayer(e,a){e.players.push(a)},updatePlayer(e,{index:a,player:t}){e.players.splice(a,1,t)},removePlayer(e,a){e.players=e.players.filter((e=>e.number!==a))},setMinPlays(e,a){e.minPlays=a},setPlayers(e,a){e.players=a},updateCurrentPlay(e,a){const t=e.currentPlay.indexOf(a);t>-1?e.currentPlay.splice(t,1):e.currentPlay.push(a)},savePlay(e,a){e.playHistory.push([...a]),a.forEach((a=>{e.playerPlayCounts[a]=(e.playerPlayCounts[a]||0)+1})),e.currentPlay=[]},updatePlayerPlayCount(e,{playerNumber:a,playCount:t}){e.playerPlayCounts[a]=t},clearAllPlays(e){e.currentPlay=[],e.playHistory=[],e.playerPlayCounts={}},clearAllData(e){e.players=[],e.minPlays=12,e.currentPlay=[],e.playHistory=[],e.playerPlayCounts={},e.selectedPlayers=[]},setSelectedPlayers(e,a){e.selectedPlayers=a}},actions:{initializeStore({commit:e}){const a=localStorage.getItem("teamData");if(a){const{players:t,minPlays:l,playerPlayCounts:n,selectedPlayers:r}=JSON.parse(a);e("setPlayers",t),e("setMinPlays",l),n&&Object.entries(n).forEach((([a,t])=>{e("updatePlayerPlayCount",{playerNumber:parseInt(a),playCount:t})})),r&&e("setSelectedPlayers",r)}},saveToLocalStorage({state:e}){localStorage.setItem("teamData",JSON.stringify({players:e.players,minPlays:e.minPlays,playerPlayCounts:e.playerPlayCounts,selectedPlayers:e.selectedPlayers}))}},getters:{playerPlayCount:e=>a=>e.playerPlayCounts[a]||0}});(0,l.Ef)(m).use(z).use(G).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var r=a[l]={exports:{}};return e[l].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,r){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],r=e[c][2];for(var u=!0,o=0;o<l.length;o++)(!1&r||s>=r)&&Object.keys(t.O).every((function(e){return t.O[e](l[o])}))?l.splice(o--,1):(u=!1,r<s&&(s=r));if(u){e.splice(c--,1);var i=n();void 0!==i&&(a=i)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,r,s=l[0],u=l[1],o=l[2],i=0;if(s.some((function(a){return 0!==e[a]}))){for(n in u)t.o(u,n)&&(t.m[n]=u[n]);if(o)var c=o(t)}for(a&&a(l);i<s.length;i++)r=s[i],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},l=self["webpackChunkmpr"]=self["webpackChunkmpr"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(6804)}));l=t.O(l)})();
//# sourceMappingURL=app.03de27f2.js.map