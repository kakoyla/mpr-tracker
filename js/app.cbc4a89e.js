(function(){"use strict";var e={160:function(e,l,a){var n=a(5130),t=a(6768);const u={id:"app"};function r(e,l,a,n,r,s){const i=(0,t.g2)("router-link"),o=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("header",null,[l[3]||(l[3]=(0,t.Lk)("h1",null,"MPR Tracker",-1)),(0,t.Lk)("nav",null,[(0,t.bF)(i,{to:"/"},{default:(0,t.k6)((()=>l[0]||(l[0]=[(0,t.eW)("Setup")]))),_:1}),(0,t.bF)(i,{to:"/tracking"},{default:(0,t.k6)((()=>l[1]||(l[1]=[(0,t.eW)("Player Tracking")]))),_:1}),(0,t.bF)(i,{to:"/team-mpr"},{default:(0,t.k6)((()=>l[2]||(l[2]=[(0,t.eW)("Team MPR")]))),_:1})])]),(0,t.Lk)("main",null,[(0,t.bF)(o,{onSaveData:n.saveData},null,8,["onSaveData"])]),l[4]||(l[4]=(0,t.Lk)("footer",null,[(0,t.Lk)("p",null,"Â© 2024 MPR Tracker App")],-1))])}var s=a(782),i=a(1387),o={name:"App",setup(){const e=(0,s.Pj)(),l=(0,i.rd)();(0,t.sV)((()=>{e.dispatch("initializeStore")}));const a=()=>{e.dispatch("saveToLocalStorage")};return(0,t.Gt)("saveData",a),l.afterEach((()=>{a()})),{saveData:a}}},p=a(1241);const c=(0,p.A)(o,[["render",r]]);var d=c,m=a(4232);const y={class:"team-setup"},v={type:"submit"},L={class:"team-roster"},k=["onClick"],P=["onClick"],b=["onClick"],C={class:"min-plays"},f=["disabled"],h={class:"export-import"},g={class:"clear-data"},E={class:"lineup-management"},w={key:0,class:"modal"},T={class:"modal-content"},M={class:"player-selection"},N=["onClick"],R=["disabled"],I={key:1,class:"modal"},x={class:"modal-content"},S=["value"],_={key:1,class:"player-selection"},X=["onClick"],O={key:2},A=["disabled"],K={key:2,class:"modal"},W={class:"modal-content"},U=["onClick"];function F(e,l,a,u,r,s){return(0,t.uX)(),(0,t.CE)("div",y,[l[30]||(l[30]=(0,t.Lk)("h2",null,"Team Setup",-1)),(0,t.Lk)("form",{onSubmit:l[4]||(l[4]=(0,n.D$)((e=>u.editMode?u.updatePlayer():u.addPlayer()),["prevent"])),class:"player-form"},[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>u.newPlayer.firstName=e),placeholder:"First Name",required:""},null,512),[[n.Jo,u.newPlayer.firstName]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>u.newPlayer.lastName=e),placeholder:"Last Name",required:""},null,512),[[n.Jo,u.newPlayer.lastName]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>u.newPlayer.number=e),type:"number",placeholder:"Player Number",required:""},null,512),[[n.Jo,u.newPlayer.number,void 0,{number:!0}]]),(0,t.Lk)("button",v,(0,m.v_)(u.editMode?"Update Player":"Add Player"),1),u.editMode?((0,t.uX)(),(0,t.CE)("button",{key:0,type:"button",onClick:l[3]||(l[3]=(...e)=>u.cancelEdit&&u.cancelEdit(...e)),class:"cancel-button"},"Cancel")):(0,t.Q3)("",!0)],32),(0,t.Lk)("div",L,[l[23]||(l[23]=(0,t.Lk)("h3",null,"Team Roster",-1)),(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.sortedPlayers,(e=>((0,t.uX)(),(0,t.CE)("li",{key:e.number},[(0,t.Lk)("span",null,(0,m.v_)(e.number)+" - "+(0,m.v_)(e.firstName)+" "+(0,m.v_)(e.lastName),1),(0,t.Lk)("div",null,[(0,t.Lk)("button",{onClick:l=>u.editPlayer(e),class:"edit-button"},"Edit",8,k),(0,t.Lk)("button",{onClick:l=>u.removePlayer(e.number),class:"remove-button"},"Remove",8,P),(0,t.Lk)("button",{onClick:l=>u.editPlayerLineups(e.number),class:"edit-lineups-button"},"Edit Lineups",8,b)])])))),128))])]),(0,t.Lk)("div",C,[l[24]||(l[24]=(0,t.Lk)("label",{for:"minPlays"},"Minimum Plays Required:",-1)),(0,t.bo)((0,t.Lk)("input",{id:"minPlays","onUpdate:modelValue":l[5]||(l[5]=e=>u.minPlays=e),type:"number",required:""},null,512),[[n.Jo,u.minPlays,void 0,{number:!0}]])]),(0,t.Lk)("button",{onClick:l[6]||(l[6]=(...e)=>u.saveTeam&&u.saveTeam(...e)),disabled:!u.canSaveTeam,class:"save-team-button"},"Save",8,f),(0,t.Lk)("div",h,[(0,t.Lk)("button",{onClick:l[7]||(l[7]=(...e)=>u.exportTeam&&u.exportTeam(...e)),class:"export-button"},"Export Team"),(0,t.Lk)("input",{type:"file",onChange:l[8]||(l[8]=(...e)=>u.importTeam&&u.importTeam(...e)),ref:"fileInput",style:{display:"none"}},null,544),(0,t.Lk)("button",{onClick:l[9]||(l[9]=l=>e.$refs.fileInput.click()),class:"import-button"},"Import Team")]),(0,t.Lk)("div",g,[l[25]||(l[25]=(0,t.Lk)("h3",null,"Clear Data Options",-1)),(0,t.Lk)("button",{onClick:l[10]||(l[10]=(...e)=>u.clearAllPlays&&u.clearAllPlays(...e)),class:"clear-plays-button"},"Clear All Plays"),(0,t.Lk)("button",{onClick:l[11]||(l[11]=(...e)=>u.clearEntireTeam&&u.clearEntireTeam(...e)),class:"clear-team-button"},"Remove Entire Team")]),(0,t.Lk)("div",E,[l[26]||(l[26]=(0,t.Lk)("h3",null,"Lineup Management",-1)),(0,t.Lk)("button",{onClick:l[12]||(l[12]=e=>u.showLineupModal=!0),class:"create-lineup-button"},"Create Lineup"),(0,t.Lk)("button",{onClick:l[13]||(l[13]=e=>u.showEditLineupModal=!0),class:"edit-lineup-button"},"Edit Lineup")]),u.showLineupModal?((0,t.uX)(),(0,t.CE)("div",w,[(0,t.Lk)("div",T,[l[27]||(l[27]=(0,t.Lk)("h3",null,"Create Lineup",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[14]||(l[14]=e=>u.newLineupName=e),placeholder:"Lineup Name",required:""},null,512),[[n.Jo,u.newLineupName]]),(0,t.Lk)("div",M,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.sortedPlayers,(e=>((0,t.uX)(),(0,t.CE)("button",{key:e.number,onClick:l=>u.togglePlayerInLineup(e.number),class:(0,m.C4)({selected:u.newLineupPlayers.includes(e.number)})},(0,m.v_)(e.number)+" - "+(0,m.v_)(e.firstName)+" "+(0,m.v_)(e.lastName),11,N)))),128))]),(0,t.Lk)("p",null,"Selected Players: "+(0,m.v_)(u.newLineupPlayers.length)+"/11",1),(0,t.Lk)("button",{onClick:l[15]||(l[15]=(...e)=>u.saveLineup&&u.saveLineup(...e)),disabled:!u.canSaveLineup},"Save Lineup",8,R),(0,t.Lk)("button",{onClick:l[16]||(l[16]=(...e)=>u.closeLineupModal&&u.closeLineupModal(...e))},"Cancel")])])):(0,t.Q3)("",!0),u.showEditLineupModal?((0,t.uX)(),(0,t.CE)("div",I,[(0,t.Lk)("div",x,[l[28]||(l[28]=(0,t.Lk)("h3",null,"Edit Lineup",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[17]||(l[17]=e=>u.editingLineupIndex=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.lineups,((e,l)=>((0,t.uX)(),(0,t.CE)("option",{key:l,value:l},(0,m.v_)(e.name),9,S)))),128))],512),[[n.u1,u.editingLineupIndex]]),null!==u.editingLineupIndex?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,"onUpdate:modelValue":l[18]||(l[18]=e=>u.lineups[u.editingLineupIndex].name=e),placeholder:"Lineup Name",required:""},null,512)),[[n.Jo,u.lineups[u.editingLineupIndex].name]]):(0,t.Q3)("",!0),null!==u.editingLineupIndex?((0,t.uX)(),(0,t.CE)("div",_,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.sortedPlayers,(e=>((0,t.uX)(),(0,t.CE)("button",{key:e.number,onClick:l=>u.togglePlayerInEditingLineup(e.number),class:(0,m.C4)({selected:u.lineups[u.editingLineupIndex].players.includes(e.number)})},(0,m.v_)(e.number)+" - "+(0,m.v_)(e.firstName)+" "+(0,m.v_)(e.lastName),11,X)))),128))])):(0,t.Q3)("",!0),null!==u.editingLineupIndex?((0,t.uX)(),(0,t.CE)("p",O,"Selected Players: "+(0,m.v_)(u.lineups[u.editingLineupIndex].players.length)+"/11",1)):(0,t.Q3)("",!0),(0,t.Lk)("button",{onClick:l[19]||(l[19]=(...e)=>u.updateLineup&&u.updateLineup(...e)),disabled:!u.canUpdateLineup},"Update Lineup",8,A),null!==u.editingLineupIndex?((0,t.uX)(),(0,t.CE)("button",{key:3,onClick:l[20]||(l[20]=(...e)=>u.deleteLineup&&u.deleteLineup(...e))},"Delete Lineup")):(0,t.Q3)("",!0),(0,t.Lk)("button",{onClick:l[21]||(l[21]=(...e)=>u.closeEditLineupModal&&u.closeEditLineupModal(...e))},"Cancel")])])):(0,t.Q3)("",!0),u.showPlayerLineupsModal?((0,t.uX)(),(0,t.CE)("div",K,[(0,t.Lk)("div",W,[l[29]||(l[29]=(0,t.Lk)("h3",null,"Edit Player Lineups",-1)),(0,t.Lk)("p",null,"Player: "+(0,m.v_)(u.players.find((e=>e.number===u.editingPlayerNumber))?.firstName)+" "+(0,m.v_)(u.players.find((e=>e.number===u.editingPlayerNumber))?.lastName),1),(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.playerLineups,((e,l)=>((0,t.uX)(),(0,t.CE)("li",{key:l},[(0,t.eW)((0,m.v_)(e.name)+" ",1),(0,t.Lk)("button",{onClick:e=>u.removePlayerFromLineup(l)},"Remove from Lineup",8,U)])))),128))]),(0,t.Lk)("button",{onClick:l[22]||(l[22]=(...e)=>u.closePlayerLineupsModal&&u.closePlayerLineupsModal(...e))},"Close")])])):(0,t.Q3)("",!0)])}a(4114),a(4603),a(7566),a(8721);var j=a(144),D={name:"TeamSetup",setup(){const e=(0,s.Pj)(),l=(0,i.rd)(),a=(0,t.WQ)("saveData"),n=(0,j.KR)({firstName:"",lastName:"",number:""}),u=(0,j.KR)(12),r=(0,j.KR)(!1),o=(0,j.KR)(-1),p=(0,j.KR)(!1),c=(0,j.KR)(!1),d=(0,j.KR)(!1),m=(0,j.KR)(""),y=(0,j.KR)([]),v=(0,j.KR)(null),L=(0,j.KR)(null),k=(0,t.EW)((()=>e.state.players)),P=(0,t.EW)((()=>e.state.lineups)),b=(0,t.EW)((()=>[...k.value].sort(((e,l)=>e.number-l.number)))),C=(0,t.EW)((()=>null===L.value?[]:e.getters.getLineupsByPlayer(L.value))),f=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),h=()=>{const l={...n.value,firstName:f(n.value.firstName),lastName:f(n.value.lastName)};e.commit("addPlayer",l),n.value={firstName:"",lastName:"",number:""},a()},g=e=>{n.value={...e},r.value=!0,o.value=k.value.findIndex((l=>l.number===e.number))},E=()=>{const l={...n.value,firstName:f(n.value.firstName),lastName:f(n.value.lastName)};e.commit("updatePlayer",{index:o.value,player:l}),w(),a()},w=()=>{n.value={firstName:"",lastName:"",number:""},r.value=!1,o.value=-1},T=l=>{e.commit("removePlayer",l),a()},M=(0,t.EW)((()=>k.value.length>0&&u.value>0)),N=()=>{e.commit("setMinPlays",u.value),a(),l.push("/tracking")},R=()=>{const l={players:k.value,minPlays:u.value,playerPlayCounts:e.state.playerPlayCounts,lineups:e.state.lineups},a=JSON.stringify(l,null,2),n=new Blob([a],{type:"application/json"}),t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download="team_data.json",r.click(),URL.revokeObjectURL(t)},I=l=>{const n=l.target.files[0];if(n){const l=new FileReader;l.onload=l=>{try{const n=JSON.parse(l.target.result);e.commit("setPlayers",n.players),e.commit("setMinPlays",n.minPlays),n.playerPlayCounts&&Object.entries(n.playerPlayCounts).forEach((([l,a])=>{e.commit("updatePlayerPlayCount",{playerNumber:parseInt(l),playCount:a})})),n.lineups&&e.commit("setLineups",n.lineups),u.value=n.minPlays,a(),alert("Team data imported successfully!")}catch(n){alert("Error importing team data. Please make sure the file is correct."),console.error("Import error:",n)}},l.readAsText(n)}},x=()=>{confirm("Are you sure you want to clear all plays? This action cannot be undone.")&&(e.commit("clearAllPlays"),a(),alert("All plays have been cleared."))},S=()=>{confirm("Are you sure you want to remove the entire team, all plays, and all lineups? This action cannot be undone.")&&(e.commit("clearAllData"),e.commit("clearLineups"),u.value=12,a(),alert("The entire team, all plays, and all lineups have been removed."))},_=e=>{const l=y.value.indexOf(e);l>-1?y.value.splice(l,1):y.value.length<11&&y.value.push(e)},X=e=>{if(null===v.value)return;const l=P.value[v.value],a=l.players.indexOf(e);a>-1?l.players.splice(a,1):l.players.length<11&&l.players.push(e)},O=(0,t.EW)((()=>""!==m.value.trim()&&y.value.length>0&&y.value.length<=11)),A=(0,t.EW)((()=>null!==v.value&&""!==P.value[v.value].name.trim()&&P.value[v.value].players.length>0&&P.value[v.value].players.length<=11)),K=()=>{e.commit("addLineup",{name:m.value,players:y.value}),F(),a()},W=()=>{null!==v.value&&(e.commit("updateLineup",{index:v.value,lineup:P.value[v.value]}),D(),a())},U=()=>{null!==v.value&&confirm("Are you sure you want to delete this lineup?")&&(e.commit("deleteLineup",v.value),D(),a())},F=()=>{p.value=!1,m.value="",y.value=[]},D=()=>{c.value=!1,v.value=null},V=e=>{L.value=e,d.value=!0},Q=l=>{const n=C.value[l],t={...n,players:n.players.filter((e=>e!==L.value))},u=P.value.findIndex((e=>e.name===n.name));-1!==u&&(e.commit("updateLineup",{index:u,lineup:t}),a())},B=()=>{d.value=!1,L.value=null};return{newPlayer:n,players:k,sortedPlayers:b,minPlays:u,editMode:r,addPlayer:h,editPlayer:g,updatePlayer:E,cancelEdit:w,removePlayer:T,canSaveTeam:M,saveTeam:N,exportTeam:R,importTeam:I,clearAllPlays:x,clearEntireTeam:S,showLineupModal:p,showEditLineupModal:c,showPlayerLineupsModal:d,newLineupName:m,newLineupPlayers:y,editingLineupIndex:v,lineups:P,playerLineups:C,togglePlayerInLineup:_,togglePlayerInEditingLineup:X,canSaveLineup:O,canUpdateLineup:A,saveLineup:K,updateLineup:W,deleteLineup:U,closeLineupModal:F,closeEditLineupModal:D,editPlayerLineups:V,removePlayerFromLineup:Q,closePlayerLineupsModal:B,editingPlayerNumber:L}}};const V=(0,p.A)(D,[["render",F],["__scopeId","data-v-ab4c9834"]]);var Q=V;const B={class:"player-tracking"},J={class:"tracking-controls"},q={class:"tracking-mode"},H={class:"switch"},$={class:"player-grid-container",ref:"gridContainer"},z=["onClick"],G={class:"action-buttons"},Y={key:0,class:"saved-message"},Z={key:1,class:"modal"},ee={class:"modal-content"},le=["value"],ae=["disabled"];function ne(e,l,a,u,r,s){return(0,t.uX)(),(0,t.CE)("div",B,[(0,t.Lk)("div",J,[(0,t.Lk)("div",q,[l[8]||(l[8]=(0,t.Lk)("span",{class:"mode-label"},"On Field",-1)),(0,t.Lk)("label",H,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=e=>u.isOnBench=e)},null,512),[[n.lH,u.isOnBench]]),l[7]||(l[7]=(0,t.Lk)("span",{class:"slider round"},null,-1))]),l[9]||(l[9]=(0,t.Lk)("span",{class:"mode-label"},"On Bench",-1))]),(0,t.Lk)("button",{onClick:l[1]||(l[1]=e=>u.showLoadLineupModal=!0),class:"load-lineup-button"},"Load Lineup")]),(0,t.Lk)("div",$,[(0,t.Lk)("div",{class:"player-grid",style:(0,m.Tr)(u.gridStyle)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.sortedActivePlayers,(e=>((0,t.uX)(),(0,t.CE)("button",{key:e.number,onClick:l=>u.togglePlayer(e.number),class:(0,m.C4)({active:u.isPlayerActive(e.number)})},(0,m.v_)(e.number),11,z)))),128))],4)],512),(0,t.Lk)("div",G,[(0,t.Lk)("button",{onClick:l[2]||(l[2]=(...e)=>u.savePlay&&u.savePlay(...e)),class:"save-button"},"Save Play"),(0,t.Lk)("button",{onClick:l[3]||(l[3]=(...e)=>u.viewTeamMPR&&u.viewTeamMPR(...e)),class:"view-mpr-button"},"View Team MPR")]),u.showSaved?((0,t.uX)(),(0,t.CE)("div",Y,"Saved")):(0,t.Q3)("",!0),u.showLoadLineupModal?((0,t.uX)(),(0,t.CE)("div",Z,[(0,t.Lk)("div",ee,[l[10]||(l[10]=(0,t.Lk)("h3",null,"Load Lineup",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>u.selectedLineupIndex=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.lineups,((e,l)=>((0,t.uX)(),(0,t.CE)("option",{key:l,value:l},(0,m.v_)(e.name),9,le)))),128))],512),[[n.u1,u.selectedLineupIndex]]),(0,t.Lk)("button",{onClick:l[5]||(l[5]=(...e)=>u.loadLineup&&u.loadLineup(...e)),disabled:null===u.selectedLineupIndex},"Load",8,ae),(0,t.Lk)("button",{onClick:l[6]||(l[6]=(...e)=>u.closeLoadLineupModal&&u.closeLoadLineupModal(...e))},"Cancel")])])):(0,t.Q3)("",!0)])}a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var te={name:"PlayerTrackingView",setup(){const e=(0,s.Pj)(),l=(0,i.rd)(),a=(0,t.WQ)("saveData"),n=(0,j.KR)(!1),u=(0,j.KR)(null),r=(0,j.KR)({}),o=(0,j.KR)(!1),p=(0,j.KR)(!1),c=(0,j.KR)(null),d=(0,t.EW)({get:()=>e.state.selectedPlayers,set:l=>e.commit("setSelectedPlayers",l)}),m=(0,t.EW)((()=>e.state.players)),y=(0,t.EW)((()=>e.state.minPlays)),v=(0,t.EW)((()=>e.state.lineups)),L=(0,t.EW)((()=>m.value.filter((l=>{const a=e.getters.playerPlayCount(l.number);return a<y.value})).sort(((e,l)=>e.number-l.number)))),k=e=>d.value.includes(e),P=e=>{const l=[...d.value],a=l.indexOf(e);a>-1?l.splice(a,1):l.push(e),d.value=l},b=()=>{const l=n.value?L.value.length-d.value.length:d.value.length;if(l>11){const e=confirm("There are more than 11 players on the field. Do you want to proceed?");if(!e)return}const t=n.value?L.value.filter((e=>!d.value.includes(e.number))).map((e=>e.number)):d.value;e.commit("savePlay",t),a(),f(),d.value=d.value.filter((l=>{const a=e.getters.playerPlayCount(l);return a<y.value})),o.value=!0,setTimeout((()=>{o.value=!1}),1e3)},C=()=>{l.push("/team-mpr")},f=()=>{if(!u.value)return;const e=u.value.clientWidth,l=u.value.clientHeight,a=L.value.length;let n=Math.ceil(Math.sqrt(a)),t=Math.ceil(a/n);l>e&&([n,t]=[t,n]),r.value={display:"grid",gridTemplateColumns:`repeat(${n}, 1fr)`,gridTemplateRows:`repeat(${t}, 1fr)`,gap:"4px",height:"100%"}},h=()=>{if(null===c.value)return;const e=v.value[c.value],l=new Set(d.value);e.players.forEach((e=>{l.add(e)})),d.value=Array.from(l),g()},g=()=>{p.value=!1,c.value=null};return(0,t.sV)((()=>{f(),window.addEventListener("resize",f)})),(0,t.hi)((()=>{window.removeEventListener("resize",f)})),(0,t.wB)(L,f),(0,t.wB)(n,(()=>{d.value=[]})),{isOnBench:n,sortedActivePlayers:L,isPlayerActive:k,togglePlayer:P,savePlay:b,viewTeamMPR:C,gridContainer:u,gridStyle:r,showSaved:o,showLoadLineupModal:p,selectedLineupIndex:c,lineups:v,loadLineup:h,closeLoadLineupModal:g}}};const ue=(0,p.A)(te,[["render",ne],["__scopeId","data-v-05f136fa"]]);var re=ue;const se={class:"team-mpr"},ie={class:"table-responsive"},oe={key:1},pe=["onClick"],ce=["onClick"];function de(e,l,a,u,r,s){return(0,t.uX)(),(0,t.CE)("div",se,[l[4]||(l[4]=(0,t.Lk)("h2",null,"Team MPR",-1)),(0,t.Lk)("div",ie,[(0,t.Lk)("table",null,[l[3]||(l[3]=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"No."),(0,t.Lk)("th",null,"Name"),(0,t.Lk)("th",null,"Plays"),(0,t.Lk)("th",null,"Left"),(0,t.Lk)("th",null,"Status"),(0,t.Lk)("th",null,"Actions")])],-1)),(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.sortedPlayersMPR,(e=>((0,t.uX)(),(0,t.CE)("tr",{key:e.number,class:(0,m.C4)({completed:"Completed"===e.status})},[(0,t.Lk)("td",null,(0,m.v_)(e.number),1),(0,t.Lk)("td",null,(0,m.v_)(e.firstName)+" "+(0,m.v_)(e.lastName),1),(0,t.Lk)("td",null,[u.editingPlayer===e.number?(0,t.bo)(((0,t.uX)(),(0,t.CE)("input",{key:0,"onUpdate:modelValue":l[0]||(l[0]=e=>u.editPlayCount=e),type:"number",min:"0"},null,512)),[[n.Jo,u.editPlayCount,void 0,{number:!0}]]):((0,t.uX)(),(0,t.CE)("span",oe,(0,m.v_)(e.plays),1))]),(0,t.Lk)("td",null,(0,m.v_)(e.playsRemaining),1),(0,t.Lk)("td",{class:(0,m.C4)({"status-completed":"Completed"===e.status})},(0,m.v_)(e.status),3),(0,t.Lk)("td",null,[u.editingPlayer===e.number?((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:l=>u.savePlayCount(e.number),class:"save-button"},"Save",8,pe)):((0,t.uX)(),(0,t.CE)("button",{key:1,onClick:l=>u.startEditing(e),class:"edit-button"},"Edit",8,ce)),u.editingPlayer===e.number?((0,t.uX)(),(0,t.CE)("button",{key:2,onClick:l[1]||(l[1]=(...e)=>u.cancelEditing&&u.cancelEditing(...e)),class:"cancel-button"},"Cancel")):(0,t.Q3)("",!0)])],2)))),128))])])]),(0,t.Lk)("button",{onClick:l[2]||(l[2]=(...e)=>u.backToTracking&&u.backToTracking(...e)),class:"back-button"},"Back to Tracking")])}var me={name:"TeamMPRView",setup(){const e=(0,s.Pj)(),l=(0,i.rd)(),a=(0,t.WQ)("saveData"),n=(0,j.KR)(null),u=(0,j.KR)(0),r=(0,t.EW)((()=>{const l=e.state.minPlays;return e.state.players.map((a=>{const n=e.getters.playerPlayCount(a.number),t=Math.max(0,l-n);return{...a,plays:n,playsRemaining:t,status:n>=l?"Completed":"In Progress"}}))})),o=(0,t.EW)((()=>{const e=r.value.filter((e=>"In Progress"===e.status)),l=r.value.filter((e=>"Completed"===e.status)),a=(e,l)=>e.plays!==l.plays?e.plays-l.plays:e.number-l.number;return e.sort(a),l.sort(((e,l)=>e.plays!==l.plays?l.plays-e.plays:e.number-l.number)),[...e,...l]})),p=e=>{n.value=e.number,u.value=e.plays},c=l=>{e.commit("updatePlayerPlayCount",{playerNumber:l,playCount:u.value}),n.value=null,a()},d=()=>{n.value=null},m=()=>{l.push("/tracking")};return{sortedPlayersMPR:o,editingPlayer:n,editPlayCount:u,startEditing:p,savePlayCount:c,cancelEditing:d,backToTracking:m}}};const ye=(0,p.A)(me,[["render",de],["__scopeId","data-v-0c8ab034"]]);var ve=ye;const Le=[{path:"/",name:"TeamSetup",component:Q},{path:"/tracking",name:"PlayerTracking",component:re},{path:"/team-mpr",name:"TeamMPR",component:ve}],ke=(0,i.aE)({history:(0,i.Bt)(),routes:Le});var Pe=ke,be=(0,s.y$)({state:{players:[],minPlays:0,currentPlay:[],playHistory:[],playerPlayCounts:{},selectedPlayers:[],lineups:[]},mutations:{addPlayer(e,l){e.players.push(l)},updatePlayer(e,{index:l,player:a}){e.players.splice(l,1,a)},removePlayer(e,l){e.players=e.players.filter((e=>e.number!==l))},setMinPlays(e,l){e.minPlays=l},setPlayers(e,l){e.players=l},updateCurrentPlay(e,l){const a=e.currentPlay.indexOf(l);a>-1?e.currentPlay.splice(a,1):e.currentPlay.push(l)},savePlay(e,l){e.playHistory.push([...l]),l.forEach((l=>{e.playerPlayCounts[l]=(e.playerPlayCounts[l]||0)+1})),e.currentPlay=[]},updatePlayerPlayCount(e,{playerNumber:l,playCount:a}){e.playerPlayCounts[l]=a},clearAllPlays(e){e.currentPlay=[],e.playHistory=[],e.playerPlayCounts={}},clearAllData(e){e.players=[],e.minPlays=12,e.currentPlay=[],e.playHistory=[],e.playerPlayCounts={},e.selectedPlayers=[],e.lineups=[]},setSelectedPlayers(e,l){e.selectedPlayers=l},addLineup(e,l){e.lineups.push(l)},updateLineup(e,{index:l,lineup:a}){e.lineups.splice(l,1,a)},deleteLineup(e,l){e.lineups.splice(l,1)},setLineups(e,l){e.lineups=l},clearLineups(e){e.lineups=[]}},actions:{initializeStore({commit:e}){const l=localStorage.getItem("teamData");if(l){const{players:a,minPlays:n,playerPlayCounts:t,selectedPlayers:u,lineups:r}=JSON.parse(l);e("setPlayers",a),e("setMinPlays",n),t&&Object.entries(t).forEach((([l,a])=>{e("updatePlayerPlayCount",{playerNumber:parseInt(l),playCount:a})})),u&&e("setSelectedPlayers",u),r&&e("setLineups",r)}},saveToLocalStorage({state:e}){localStorage.setItem("teamData",JSON.stringify({players:e.players,minPlays:e.minPlays,playerPlayCounts:e.playerPlayCounts,selectedPlayers:e.selectedPlayers,lineups:e.lineups}))}},getters:{playerPlayCount:e=>l=>e.playerPlayCounts[l]||0,getLineupsByPlayer:e=>l=>e.lineups.filter((e=>e.players.includes(l)))}});(0,n.Ef)(d).use(Pe).use(be).mount("#app")}},l={};function a(n){var t=l[n];if(void 0!==t)return t.exports;var u=l[n]={exports:{}};return e[n].call(u.exports,u,u.exports,a),u.exports}a.m=e,function(){var e=[];a.O=function(l,n,t,u){if(!n){var r=1/0;for(p=0;p<e.length;p++){n=e[p][0],t=e[p][1],u=e[p][2];for(var s=!0,i=0;i<n.length;i++)(!1&u||r>=u)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(s=!1,u<r&&(r=u));if(s){e.splice(p--,1);var o=t();void 0!==o&&(l=o)}}return l}u=u||0;for(var p=e.length;p>0&&e[p-1][2]>u;p--)e[p]=e[p-1];e[p]=[n,t,u]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){a.d=function(e,l){for(var n in l)a.o(l,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};a.O.j=function(l){return 0===e[l]};var l=function(l,n){var t,u,r=n[0],s=n[1],i=n[2],o=0;if(r.some((function(l){return 0!==e[l]}))){for(t in s)a.o(s,t)&&(a.m[t]=s[t]);if(i)var p=i(a)}for(l&&l(n);o<r.length;o++)u=r[o],a.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return a.O(p)},n=self["webpackChunkmpr"]=self["webpackChunkmpr"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(160)}));n=a.O(n)})();
//# sourceMappingURL=app.cbc4a89e.js.map