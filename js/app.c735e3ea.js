(function(){"use strict";var e={2666:function(e,a,t){var l=t(5130),n=t(6768);const r={id:"app"};function o(e,a,t,l,o,u){const s=(0,n.g2)("router-link"),i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("header",null,[a[3]||(a[3]=(0,n.Lk)("h1",null,"MPR Tracker",-1)),(0,n.Lk)("nav",null,[(0,n.bF)(s,{to:"/"},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)("Setup")]))),_:1}),(0,n.bF)(s,{to:"/tracking"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("Player Tracking")]))),_:1}),(0,n.bF)(s,{to:"/team-mpr"},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("Team MPR")]))),_:1})])]),(0,n.Lk)("main",null,[(0,n.bF)(i,{onSaveData:l.saveData},null,8,["onSaveData"])]),a[4]||(a[4]=(0,n.Lk)("footer",null,[(0,n.Lk)("p",null,"Â© 2024 MPR Tracker App")],-1))])}var u=t(782),s=t(1387),i={name:"App",setup(){const e=(0,u.Pj)(),a=(0,s.rd)();(0,n.sV)((()=>{e.dispatch("initializeStore")}));const t=()=>{e.dispatch("saveToLocalStorage")};return(0,n.Gt)("saveData",t),a.afterEach((()=>{t()})),{saveData:t}}},c=t(1241);const m=(0,c.A)(i,[["render",o]]);var y=m,p=t(4232);const d={class:"team-setup"},v={type:"submit"},P={class:"team-roster"},k=["onClick"],b=["onClick"],f={class:"min-plays"},C=["disabled"],L={class:"export-import"},g={class:"clear-data"};function h(e,a,t,r,o,u){return(0,n.uX)(),(0,n.CE)("div",d,[a[13]||(a[13]=(0,n.Lk)("h2",null,"Team Setup",-1)),(0,n.Lk)("form",{onSubmit:a[4]||(a[4]=(0,l.D$)((e=>r.editMode?r.updatePlayer():r.addPlayer()),["prevent"])),class:"player-form"},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.newPlayer.firstName=e),placeholder:"First Name",required:""},null,512),[[l.Jo,r.newPlayer.firstName]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.newPlayer.lastName=e),placeholder:"Last Name",required:""},null,512),[[l.Jo,r.newPlayer.lastName]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>r.newPlayer.number=e),type:"number",placeholder:"Player Number",required:""},null,512),[[l.Jo,r.newPlayer.number,void 0,{number:!0}]]),(0,n.Lk)("button",v,(0,p.v_)(r.editMode?"Update Player":"Add Player"),1),r.editMode?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:a[3]||(a[3]=(...e)=>r.cancelEdit&&r.cancelEdit(...e)),class:"cancel-button"},"Cancel")):(0,n.Q3)("",!0)],32),(0,n.Lk)("div",P,[a[11]||(a[11]=(0,n.Lk)("h3",null,"Team Roster",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.players,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.number},[(0,n.Lk)("span",null,(0,p.v_)(e.number)+" - "+(0,p.v_)(e.firstName)+" "+(0,p.v_)(e.lastName),1),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:a=>r.editPlayer(e),class:"edit-button"},"Edit",8,k),(0,n.Lk)("button",{onClick:a=>r.removePlayer(e.number),class:"remove-button"},"Remove",8,b)])])))),128))])]),(0,n.Lk)("div",f,[a[12]||(a[12]=(0,n.Lk)("label",{for:"minPlays"},"Minimum Plays Required:",-1)),(0,n.bo)((0,n.Lk)("input",{id:"minPlays","onUpdate:modelValue":a[5]||(a[5]=e=>r.minPlays=e),type:"number",required:""},null,512),[[l.Jo,r.minPlays,void 0,{number:!0}]])]),(0,n.Lk)("button",{onClick:a[6]||(a[6]=(...e)=>r.saveTeam&&r.saveTeam(...e)),disabled:!r.canSaveTeam,class:"save-team-button"},"Save Team",8,C),(0,n.Lk)("div",L,[(0,n.Lk)("button",{onClick:a[7]||(a[7]=(...e)=>r.exportTeam&&r.exportTeam(...e)),class:"export-button"},"Export Team"),(0,n.Lk)("input",{type:"file",onChange:a[8]||(a[8]=(...e)=>r.importTeam&&r.importTeam(...e)),ref:"fileInput",style:{display:"none"}},null,544),(0,n.Lk)("button",{onClick:a[9]||(a[9]=a=>e.$refs.fileInput.click()),class:"import-button"},"Import Team")]),(0,n.Lk)("div",g,[(0,n.Lk)("button",{onClick:a[10]||(a[10]=(...e)=>r.clearAllData&&r.clearAllData(...e)),class:"clear-data-button"},"Clear All Data")])])}t(4114),t(4603),t(7566),t(8721);var T=t(144),E={name:"TeamSetup",setup(){const e=(0,u.Pj)(),a=(0,s.rd)(),t=(0,n.WQ)("saveData"),l=(0,T.KR)({firstName:"",lastName:"",number:""}),r=(0,T.KR)(12),o=(0,T.KR)(!1),i=(0,T.KR)(-1),c=(0,n.EW)((()=>e.state.players)),m=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),y=()=>{const a={...l.value,firstName:m(l.value.firstName),lastName:m(l.value.lastName)};e.commit("addPlayer",a),l.value={firstName:"",lastName:"",number:""},t()},p=e=>{l.value={...e},o.value=!0,i.value=c.value.findIndex((a=>a.number===e.number))},d=()=>{const a={...l.value,firstName:m(l.value.firstName),lastName:m(l.value.lastName)};e.commit("updatePlayer",{index:i.value,player:a}),v(),t()},v=()=>{l.value={firstName:"",lastName:"",number:""},o.value=!1,i.value=-1},P=a=>{e.commit("removePlayer",a),t()},k=(0,n.EW)((()=>c.value.length>0&&r.value>0)),b=()=>{e.commit("setMinPlays",r.value),t(),a.push("/tracking")},f=()=>{const a={players:c.value,minPlays:r.value,playerPlayCounts:e.state.playerPlayCounts},t=JSON.stringify(a,null,2),l=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(l),o=document.createElement("a");o.href=n,o.download="team_data.json",o.click(),URL.revokeObjectURL(n)},C=a=>{const l=a.target.files[0];if(l){const a=new FileReader;a.onload=a=>{try{const l=JSON.parse(a.target.result);e.commit("setPlayers",l.players),e.commit("setMinPlays",l.minPlays),l.playerPlayCounts&&Object.entries(l.playerPlayCounts).forEach((([a,t])=>{e.commit("updatePlayerPlayCount",{playerNumber:parseInt(a),playCount:t})})),r.value=l.minPlays,t(),alert("Team data imported successfully!")}catch(l){alert("Error importing team data. Please make sure the file is correct."),console.error("Import error:",l)}},a.readAsText(l)}},L=()=>{confirm("Are you sure you want to clear all data? This action cannot be undone.")&&(e.commit("clearAllData"),r.value=12,t(),alert("All data has been cleared."))};return{newPlayer:l,players:c,minPlays:r,editMode:o,addPlayer:y,editPlayer:p,updatePlayer:d,cancelEdit:v,removePlayer:P,canSaveTeam:k,saveTeam:b,exportTeam:f,importTeam:C,clearAllData:L}}};const N=(0,c.A)(E,[["render",h],["__scopeId","data-v-35ab247e"]]);var R=N;const w={class:"player-tracking"},M={class:"tracking-mode"},_={class:"player-grid"},A=["onClick"],O={class:"action-buttons"};function S(e,a,t,r,o,u){return(0,n.uX)(),(0,n.CE)("div",w,[a[6]||(a[6]=(0,n.Lk)("h2",null,"Player Tracking",-1)),(0,n.Lk)("div",M,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":a[0]||(a[0]=e=>r.trackingMode=e),value:"onField"},null,512),[[l.XL,r.trackingMode]]),a[4]||(a[4]=(0,n.eW)(" On Field "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":a[1]||(a[1]=e=>r.trackingMode=e),value:"onBench"},null,512),[[l.XL,r.trackingMode]]),a[5]||(a[5]=(0,n.eW)(" On Bench "))])]),(0,n.Lk)("div",_,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sortedActivePlayers,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e.number,onClick:a=>r.togglePlayer(e.number),class:(0,p.C4)({active:r.isPlayerActive(e.number)})},(0,p.v_)(e.number),11,A)))),128))]),(0,n.Lk)("div",O,[(0,n.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>r.savePlay&&r.savePlay(...e)),class:"save-button"},"Save Play"),(0,n.Lk)("button",{onClick:a[3]||(a[3]=(...e)=>r.viewTeamMPR&&r.viewTeamMPR(...e)),class:"view-mpr-button"},"View Team MPR")])])}var X={name:"PlayerTrackingView",setup(){const e=(0,u.Pj)(),a=(0,s.rd)(),t=(0,n.WQ)("saveData"),l=(0,T.KR)("onField"),r=(0,n.EW)((()=>e.state.players)),o=(0,n.EW)((()=>e.state.currentPlay)),i=(0,n.EW)((()=>e.state.minPlays)),c=(0,n.EW)((()=>r.value.filter((a=>{const t=e.getters.playerPlayCount(a.number);return"onBench"===l.value||t<i.value})).sort(((e,a)=>e.number-a.number)))),m=e=>"onField"===l.value?o.value.includes(e):!o.value.includes(e),y=a=>{e.commit("updateCurrentPlay",a)},p=()=>{const a="onField"===l.value?o.value.length:c.value.length-o.value.length;if(a>11){const e=confirm("There are more than 11 players on the field. Do you want to proceed?");if(!e)return}e.commit("savePlay"),t()},d=()=>{a.push("/team-mpr")};return{trackingMode:l,sortedActivePlayers:c,isPlayerActive:m,togglePlayer:y,savePlay:p,viewTeamMPR:d}}};const x=(0,c.A)(X,[["render",S],["__scopeId","data-v-aae4628a"]]);var D=x;const I={class:"team-mpr"},j={class:"table-responsive"},W={key:1},F=["onClick"],U=["onClick"];function V(e,a,t,r,o,u){return(0,n.uX)(),(0,n.CE)("div",I,[a[4]||(a[4]=(0,n.Lk)("h2",null,"Team MPR",-1)),(0,n.Lk)("div",j,[(0,n.Lk)("table",null,[a[3]||(a[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"No."),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Plays"),(0,n.Lk)("th",null,"Remaining"),(0,n.Lk)("th",null,"Status"),(0,n.Lk)("th",null,"Actions")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sortedPlayersMPR,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.number,class:(0,p.C4)({completed:"Completed"===e.status})},[(0,n.Lk)("td",null,(0,p.v_)(e.number),1),(0,n.Lk)("td",null,(0,p.v_)(e.firstName)+" "+(0,p.v_)(e.lastName),1),(0,n.Lk)("td",null,[r.editingPlayer===e.number?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=e=>r.editPlayCount=e),type:"number",min:"0"},null,512)),[[l.Jo,r.editPlayCount,void 0,{number:!0}]]):((0,n.uX)(),(0,n.CE)("span",W,(0,p.v_)(e.plays),1))]),(0,n.Lk)("td",null,(0,p.v_)(e.playsRemaining),1),(0,n.Lk)("td",{class:(0,p.C4)({"status-completed":"Completed"===e.status})},(0,p.v_)(e.status),3),(0,n.Lk)("td",null,[r.editingPlayer===e.number?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:a=>r.savePlayCount(e.number),class:"save-button"},"Save",8,F)):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:a=>r.startEditing(e),class:"edit-button"},"Edit",8,U)),r.editingPlayer===e.number?((0,n.uX)(),(0,n.CE)("button",{key:2,onClick:a[1]||(a[1]=(...e)=>r.cancelEditing&&r.cancelEditing(...e)),class:"cancel-button"},"Cancel")):(0,n.Q3)("",!0)])],2)))),128))])])]),(0,n.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>r.backToTracking&&r.backToTracking(...e)),class:"back-button"},"Back to Tracking")])}var K={name:"TeamMPRView",setup(){const e=(0,u.Pj)(),a=(0,s.rd)(),t=(0,n.WQ)("saveData"),l=(0,T.KR)(null),r=(0,T.KR)(0),o=(0,n.EW)((()=>{const a=e.state.minPlays;return e.state.players.map((t=>{const l=e.getters.playerPlayCount(t.number),n=Math.max(0,a-l);return{...t,plays:l,playsRemaining:n,status:l>=a?"Completed":"In Progress"}}))})),i=(0,n.EW)((()=>{const e=o.value.filter((e=>"In Progress"===e.status)).sort(((e,a)=>a.playsRemaining-e.playsRemaining||e.plays-a.plays)),a=o.value.filter((e=>"Completed"===e.status));return[...e,...a]})),c=e=>{l.value=e.number,r.value=e.plays},m=a=>{e.commit("updatePlayerPlayCount",{playerNumber:a,playCount:r.value}),l.value=null,t()},y=()=>{l.value=null},p=()=>{a.push("/tracking")};return{sortedPlayersMPR:i,editingPlayer:l,editPlayCount:r,startEditing:c,savePlayCount:m,cancelEditing:y,backToTracking:p}}};const J=(0,c.A)(K,[["render",V],["__scopeId","data-v-081b3620"]]);var q=J;const B=[{path:"/",name:R,component:R},{path:"/tracking",name:"PlayerTracking",component:D},{path:"/team-mpr",name:"TeamMPR",component:q}],Q=(0,s.aE)({history:(0,s.LA)("/mpr-tracker/"),routes:B});var $=Q,z=(0,u.y$)({state:{players:[],minPlays:0,currentPlay:[],playHistory:[],playerPlayCounts:{}},mutations:{addPlayer(e,a){e.players.push(a),e.playerPlayCounts[a.number]=0},updatePlayer(e,{index:a,player:t}){e.players.splice(a,1,t)},removePlayer(e,a){e.players=e.players.filter((e=>e.number!==a)),delete e.playerPlayCounts[a]},setMinPlays(e,a){e.minPlays=a},setPlayers(e,a){e.players=a,e.playerPlayCounts=a.reduce(((e,a)=>(e[a.number]=0,e)),{})},updateCurrentPlay(e,a){const t=e.currentPlay.indexOf(a);t>-1?e.currentPlay.splice(t,1):e.currentPlay.push(a)},savePlay(e){e.playHistory.push([...e.currentPlay]),e.currentPlay.forEach((a=>{e.playerPlayCounts[a]++})),e.currentPlay=[]},updatePlayerPlayCount(e,{playerNumber:a,playCount:t}){e.playerPlayCounts[a]=t}},actions:{initializeStore({commit:e}){const a=localStorage.getItem("teamData");if(a){const{players:t,minPlays:l,playerPlayCounts:n}=JSON.parse(a);e("setPlayers",t),e("setMinPlays",l),n&&Object.entries(n).forEach((([a,t])=>{e("updatePlayerPlayCount",{playerNumber:parseInt(a),playCount:t})}))}},saveToLocalStorage({state:e}){localStorage.setItem("teamData",JSON.stringify({players:e.players,minPlays:e.minPlays,playerPlayCounts:e.playerPlayCounts}))}},getters:{playerPlayCount:e=>a=>e.playerPlayCounts[a]||0}});(0,l.Ef)(y).use($).use(z).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var r=a[l]={exports:{}};return e[l].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,r){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],r=e[c][2];for(var u=!0,s=0;s<l.length;s++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](l[s])}))?l.splice(s--,1):(u=!1,r<o&&(o=r));if(u){e.splice(c--,1);var i=n();void 0!==i&&(a=i)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,r,o=l[0],u=l[1],s=l[2],i=0;if(o.some((function(a){return 0!==e[a]}))){for(n in u)t.o(u,n)&&(t.m[n]=u[n]);if(s)var c=s(t)}for(a&&a(l);i<o.length;i++)r=o[i],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},l=self["webpackChunkmpr"]=self["webpackChunkmpr"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(2666)}));l=t.O(l)})();
//# sourceMappingURL=app.c735e3ea.js.map